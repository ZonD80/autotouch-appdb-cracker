const { touchDown, touchMove, touchUp, usleep, toast, keyDown, keyUp} = at


function prepare_springboard_for_app_deletion() {
    keyDown(KEY_TYPE.HOME_BUTTON);
    usleep(202239.79);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(148046.17);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(509787.88);

    keyDown(KEY_TYPE.HOME_BUTTON);
    usleep(206273.75);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(144027.29);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(534314.21);

    keyDown(KEY_TYPE.HOME_BUTTON);
    usleep(179611.75);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(170622.38);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(464928.17);

    keyDown(KEY_TYPE.HOME_BUTTON);
    usleep(216170.62);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(134031.83);
    keyUp(KEY_TYPE.HOME_BUTTON);
    usleep(411343.62);

    touchDown(11, 1286.37, 1315.75);
    usleep(58197.67);
    touchMove(11, 1276.41, 1323.22);
    usleep(8119.17);
    touchMove(11, 1272.26, 1323.22);
    usleep(8150.83);
    touchMove(11, 1266.47, 1325.72);
    usleep(8966.04);
    touchMove(11, 1255.69, 1328.19);
    usleep(7874.12);
    touchMove(11, 1232.46, 1330.69);
    usleep(7907.62);
    touchMove(11, 1200.94, 1333.19);
    usleep(9349.17);
    touchMove(11, 1160.30, 1336.50);
    usleep(7906.67);
    touchMove(11, 1122.98, 1340.66);
    usleep(8620.88);
    touchMove(11, 1084.01, 1345.62);
    usleep(7591.12);
    touchMove(11, 1044.19, 1350.59);
    usleep(8705.38);
    touchMove(11, 1006.03, 1355.56);
    usleep(8460.38);
    touchMove(11, 972.87, 1360.56);
    usleep(8401.75);
    touchMove(11, 933.05, 1367.19);
    usleep(8763.88);
    touchMove(11, 894.89, 1373.00);
    usleep(7734.79);
    touchMove(11, 856.73, 1379.62);
    usleep(7966.00);
    touchMove(11, 819.42, 1386.25);
    usleep(8612.54);
    touchMove(11, 777.96, 1393.72);
    usleep(8010.42);
    touchMove(11, 719.91, 1403.69);
    usleep(9016.00);
    touchMove(11, 647.74, 1416.12);
    usleep(7885.42);
    touchMove(11, 559.83, 1431.88);
    usleep(8248.00);
    touchUp(11, 457.80, 1476.66);
    usleep(3142626.67);

    touchDown(7, 903.19, 1076.06);
    usleep(58044.21);
    touchUp(7, 903.19, 1076.06);

    usleep(16000);
}

function delete_app_from_springboard_and_filza() {
    log_and_toast("deleting app from springboard");

    usleep(16000);

    touchDown(5, 670.97, 345.38);
    usleep(1183228.08);
    touchMove(5, 668.48, 345.38);
    usleep(1449895.42);
    touchMove(5, 668.48, 346.22);
    usleep(566772.58);
    touchMove(5, 668.48, 347.03);
    usleep(390965.67);
    touchMove(5, 667.64, 347.03);
    usleep(75584.79);
    touchMove(5, 666.82, 347.03);
    usleep(83260.62);
    touchMove(5, 666.82, 347.88);
    usleep(66695.58);
    touchUp(5, 667.64, 349.53);
    usleep(1007813.33);

    touchDown(13, 602.95, 270.72);
    usleep(166623.71);
    touchUp(13, 602.95, 270.72);
    usleep(1458990.50);

    touchDown(16, 918.12, 1144.09);
    usleep(333399.29);
    touchMove(16, 913.97, 1144.09);
    usleep(7778.92);
    touchMove(16, 913.97, 1144.91);
    usleep(8795.25);
    touchMove(16, 913.97, 1145.75);
    usleep(7883.83);
    touchMove(16, 913.97, 1146.56);
    usleep(25539.08);
    touchMove(16, 913.97, 1147.41);
    usleep(66783.33);
    touchMove(16, 913.97, 1148.22);
    usleep(16516.25);
    touchMove(16, 913.97, 1149.06);
    usleep(57784.58);
    touchMove(16, 913.97, 1149.88);
    usleep(25549.42);
    touchMove(16, 913.97, 1150.72);
    usleep(16756.67);
    touchMove(16, 913.97, 1151.53);
    usleep(74376.29);
    touchMove(16, 913.97, 1152.38);
    usleep(42146.12);
    touchMove(16, 913.97, 1153.19);
    usleep(24523.46);
    touchMove(16, 913.97, 1154.03);
    usleep(16652.46);
    touchMove(16, 913.97, 1154.88);
    usleep(59077.46);
    touchMove(16, 913.15, 1154.88);
    usleep(107662.29);
    touchMove(16, 913.15, 1155.69);
    usleep(17025.29);
    touchMove(16, 913.15, 1156.53);
    usleep(16269.17);
    touchMove(16, 913.15, 1157.34);
    usleep(49990.71);
    touchMove(16, 912.30, 1157.34);
    usleep(25513.75);
    touchMove(16, 911.48, 1157.34);
    usleep(33537.46);
    touchMove(16, 910.66, 1157.34);
    usleep(74294.83);
    touchMove(16, 910.66, 1156.53);
    usleep(66664.96);
    touchMove(16, 910.66, 1155.69);
    usleep(33320.58);
    touchMove(16, 910.66, 1154.88);
    usleep(50008.38);
    touchMove(16, 910.66, 1154.03);
    usleep(33460.00);
    touchMove(16, 910.66, 1153.19);
    usleep(42054.67);
    touchMove(16, 910.66, 1152.38);
    usleep(41150.79);
    touchMove(16, 910.66, 1151.53);
    usleep(25587.04);
    touchMove(16, 910.66, 1150.72);
    usleep(24423.79);
    touchMove(16, 909.82, 1150.72);
    usleep(25746.42);
    touchMove(16, 909.00, 1150.72);
    usleep(24327.71);
    touchMove(16, 909.00, 1149.88);
    usleep(8937.79);
    touchMove(16, 909.00, 1149.06);
    usleep(8081.42);
    touchMove(16, 909.00, 1146.56);
    usleep(8293.17);
    touchUp(16, 909.82, 1143.25);
    usleep(1408346.25);

    touchDown(4, 1445.60, 68.38);
    usleep(225114.00);
    touchUp(4, 1445.60, 68.38);

    usleep(1000000);

}

function log_and_toast(text) {
    toast(text);
    console.log(text);
}

function run() {

    prepare_springboard_for_app_deletion();

    delete_app_from_springboard_and_filza();
}

// export `run()` method from this module
module.exports = {
    run
}
